@use_macro
import Core::Assert;
import Core::System;

namespace tests {

@test
func empty() i32 {
    let v = new Vector<i32>();
    return v.size() == 0;
}

@test(expect = 5)
func push() i32 {
    let mut v = new Vector<i32>();
    let mut i = 0;
    while (i < 5) {
        v.push(i);
        i = i + 1;
    }
    return v.size();
}

@test(expect = 20)
func insert() i32 {
    let mut v = new Vector<i32>();
    v.insert(1, 5);
    v.insert(1, 10);
    v.insert(1, 20);
    @assert(v.size() == 3);
    return v.at(1);
}

@test()
func to_string() i32 {
    let mut v = new Vector<i32>();
    v.push(1);
    v.push(2);
    v.push(3);
    return v.to_string() == "[1, 2, 3]";
}

@test(expect = 5)
func change_value() i32 {
    let mut v = new Vector<i32>();
    v.push(1);
    v[0] = 5;
    return v[0];
}

}
